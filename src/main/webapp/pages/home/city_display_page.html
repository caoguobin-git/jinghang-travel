<style>
    .scenery-info-box > .scenery-image {
        width: 80%;
        height: 200px;
        opacity: 0.8;
        border-radius: 10px;
        border: 2px solid rgba(145, 152, 255, 0.55);

    }

    .scenery-info-box > .scenery-image:hover {
        width: 79%;
        height: 198px;
        opacity: 1.0;
        cursor: pointer;
    }
    .scenery-info-box > .scenery-name:hover {
        cursor: pointer;
    }

    .scenery-info-box {
        text-align: center;
    }
</style>

<div class="container">
    <div class="row">
    <div class="col-lg-12">
        <img id="city-info-img"
             style="height: 600px;width: 100%;"/>
    </div>
    </div>
    <div class="row">
        <div class="col-lg-12" style="text-align: center" id="city-scenery-list-name">

        </div>
    </div>
    <br/>
    <div class="row">
        <div class="col-lg-4 scenery-info-box"
             id="scenery-display-1">
        </div>
        <div class="col-lg-4 scenery-info-box"
             id="scenery-display-2">
        </div>
        <div class="col-lg-4 scenery-info-box"
             id="scenery-display-3">
        </div>
    </div>
    <br/>
    <div class="row">
        <div class="col-lg-4 scenery-info-box"
             id="scenery-display-4">
        </div>
        <div class="col-lg-4 scenery-info-box"
             id="scenery-display-5">
        </div>
        <div class="col-lg-4 scenery-info-box"
             id="scenery-display-6">
        </div>
    </div>
    <br/>

</div>

<script>
    $(function () {
        getScenerysByCityName()
        setHomePagePic()
        $(".scenery-info-box").click(displaySceneryInfo)
    })

    function displaySceneryInfo() {
        $("#main-data-content").data("sceneryInfo", $(this).data("sceneryInfo"))
        $("#content").load("/pages/home/scenery_display_page.html")

    }

    function setHomePagePic() {

        var cityName = $("#main-data-content").data("cityName")
        $("#city-info-img").attr("src", "/images/city_img/" + cityName + ".jpg")
        $(".body-style").css("background-image","url("+"/images/city_img/" + cityName + ".jpg"+")")
    }

    function getScenerysByCityName() {
        var cityName = $("#main-data-content").data("cityName")
        cityName = cityName.trim();
        var url = "/scenery/getScenerysByCityName.do?t=" + Math.random();
        var param = {
            "pageSize": 6,
            "cityName": cityName
        }
        $.ajax({
            url: url,
            data: param,
            type: "post",
            dataType: "json",
            success: function (result) {
                $("#main-data-content").data("scenerys", result.data)
                setSceneryContent(result.data.records)
            }
        })
    }

    function setSceneryContent(datas) {
        var cityName;
        $.each(datas, function (index, item) {
            index = index + 1;
            var img = "<img class='scenery-image' src='http://image.travel.com/" + item.sceneryPic + "'/>"
            var sceneryName = "<h4 class=scenery-name' style='font-family:'Microsoft YaHei';font-weight: bold;'>" + item.sceneryName + "</h3>"
            $("#scenery-display-" + index).data("sceneryInfo", item)
            $("#scenery-display-" + index).append(img)
            $("#scenery-display-" + index).append(sceneryName)
            cityName=item.cityName;
        })
        $("#city-scenery-list-name").append("<h2 style='font-family: KaiTi;font-weight: bold;color: rgba(46,157,255,0.78)'>"+cityName+"附近旅游景点</h2>")
    }

</script>
